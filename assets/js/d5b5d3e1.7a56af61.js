"use strict";(self.webpackChunk_matano_website=self.webpackChunk_matano_website||[]).push([[4218],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>d});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),u=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),g=u(n),d=r,m=g["".concat(i,".").concat(d)]||g[d]||p[d]||o;return n?a.createElement(m,l(l({ref:t},c),{},{components:n})):a.createElement(m,l({ref:t},c))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=g;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var u=2;u<o;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},2359:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var a=n(87462),r=(n(67294),n(3905));const o={title:"Snyk",sidebar_position:6},l=void 0,s={unversionedId:"log-sources/managed-log-sources/snyk",id:"log-sources/managed-log-sources/snyk",title:"Snyk",description:"The Snyk Matano managed log source lets you ingest your Snyk Audit logs and vulnerabilty issues.",source:"@site/docs/log-sources/managed-log-sources/snyk.md",sourceDirName:"log-sources/managed-log-sources",slug:"/log-sources/managed-log-sources/snyk",permalink:"/docs/log-sources/managed-log-sources/snyk",draft:!1,editUrl:"https://github.com/matanolabs/matano-website/tree/main/website/docs/log-sources/managed-log-sources/snyk.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{title:"Snyk",sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Okta",permalink:"/docs/log-sources/managed-log-sources/okta"},next:{title:"Suricata",permalink:"/docs/log-sources/managed-log-sources/suricata"}},i={},u=[{value:"Usage",id:"usage",level:2},{value:"Tables",id:"tables",level:2},{value:"Ingest",id:"ingest",level:2},{value:"Pull (default)",id:"pull-default",level:3},{value:"Secret",id:"secret",level:4},{value:"Schema",id:"schema",level:2}],c={toc:u};function p(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The Snyk Matano managed log source lets you ingest your Snyk ",(0,r.kt)("a",{parentName:"p",href:"https://snyk.docs.apiary.io/#reference/audit-logs/get-list-of-issues"},"Audit logs")," and ",(0,r.kt)("a",{parentName:"p",href:"https://snyk.docs.apiary.io/#reference/reporting-api/issues/get-list-of-issues"},"vulnerabilty issues"),"."),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("p",null,"Use the managed log source by specifying the ",(0,r.kt)("inlineCode",{parentName:"p"},"managed.type")," property in your ",(0,r.kt)("inlineCode",{parentName:"p"},"log_source")," as ",(0,r.kt)("inlineCode",{parentName:"p"},"SNYK"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},"name: snyk\n\nmanaged:\n  type: SNYK\n  properties:\n    group_id: <MY_GROUP_ID>\n    org_id: <MY_ORG_ID>\n")),(0,r.kt)("p",null,"Then create tables for each of the Snyk logs you want to ingest. For example, if you want to ingest Snyk audit logs, as well vulnerabilities, create table files like so:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"my-matano-dir/\n\u2514\u2500\u2500 log_sources/\n    \u2514\u2500\u2500 snyk/\n        \u2514\u2500\u2500 log_source.yml\n        \u2514\u2500\u2500 tables/\n            \u2514\u2500\u2500 audit.yml\n            \u2514\u2500\u2500 vulnerabilities.yml\n            \u2514\u2500\u2500 ...\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},"# log_sources/snyk/tables/audit.yml\nname: audit\n")),(0,r.kt)("p",null,"For a complete reference on configuring log sources, including extending the table schema, see ",(0,r.kt)("a",{parentName:"p",href:"/docs/log-sources/configuration"},(0,r.kt)("em",{parentName:"a"},"Log source configuration")),"."),(0,r.kt)("h2",{id:"tables"},"Tables"),(0,r.kt)("p",null,"The Snyk managed log source supports the following tables:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"audit"),(0,r.kt)("li",{parentName:"ul"},"vulnerabilities")),(0,r.kt)("h2",{id:"ingest"},"Ingest"),(0,r.kt)("h3",{id:"pull-default"},"Pull (default)"),(0,r.kt)("p",null,"Matano integrates with your Snyk account to automatically pull relevant logs on a regular basis (every 24 hrs)."),(0,r.kt)("p",null,"To get started with the integration, specify the following properties in the log source configuration file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},"managed:\n  type: SNYK\n  properties:\n    group_id: <MY_GROUP_ID>\n    org_id: <MY_ORG_ID>\n")),(0,r.kt)("p",null,"After the first deployment, this log source will also generate a secret in AWS secret's manager to store secrets related to this integration."),(0,r.kt)("h4",{id:"secret"},"Secret"),(0,r.kt)("p",null,"To finish onboarding the log source, populate the ",(0,r.kt)("inlineCode",{parentName:"p"},"api_token")," key in the secret generated by Matano in AWS Secrets Manager, with the value of your Snyk API token."),(0,r.kt)("h2",{id:"schema"},"Schema"),(0,r.kt)("p",null,"Snyk log data is normalized to ECS fields. Custom fields are normalized into the ",(0,r.kt)("inlineCode",{parentName:"p"},"snyk")," field. You can view the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/matanolabs/matano/blob/main/data/managed/log_sources/snyk/tables/"},"complete mapping")," to see the full schema."))}p.isMDXComponent=!0}}]);