"use strict";(self.webpackChunk_matano_website=self.webpackChunk_matano_website||[]).push([[2066],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>p});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),u=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),m=u(a),p=r,g=m["".concat(l,".").concat(p)]||m[p]||c[p]||o;return a?n.createElement(g,s(s({ref:t},d),{},{components:a})):n.createElement(g,s({ref:t},d))}));function p(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,s=new Array(o);s[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var u=2;u<o;u++)s[u]=a[u];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5885:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>m,frontMatter:()=>s,metadata:()=>l,toc:()=>d});var n=a(7462),r=(a(7294),a(3905)),o=a(9152);const s={title:"Matano adds Identity Data Lake",authors:"shaeq",keywords:["aws","security","identity","cloud","azure","google","okta"],image:"./sg.png"},i=void 0,l={permalink:"/blog/2023/02/07/identity-data-lake",editUrl:"https://github.com/matanolabs/matano-website/tree/main/website/blog/2023-02-07-identity-data-lake/index.md",source:"@site/blog/2023-02-07-identity-data-lake/index.md",title:"Matano adds Identity Data Lake",description:"We're adding support for pulling logs and enrichment data from identity and auth sources to your Matano data lake. This means you can query failed/successful sign-in attempts, view audit logs, and query user information from popular SaaS sources directly using SQL and write detection rules to detect threats in realtime using Python!",date:"2023-02-07T00:00:00.000Z",formattedDate:"February 7, 2023",tags:[],readingTime:1.525,hasTruncateMarker:!0,authors:[{name:"Shaeq Ahmed",email:"shaeq@matano.dev",key:"shaeq"}],frontMatter:{title:"Matano adds Identity Data Lake",authors:"shaeq",keywords:["aws","security","identity","cloud","azure","google","okta"],image:"./sg.png"},nextItem:{title:"Matano now supports 10+ AWS managed log sources",permalink:"/blog/2023/02/01/more-aws-log-sources"}},u={image:a(870).Z,authorsImageUrls:[void 0]},d=[{value:"New Log Sources",id:"new-log-sources",level:3},{value:"Sample queries",id:"sample-queries",level:3},{value:"Recent failed sign-in attempts from 1Password",id:"recent-failed-sign-in-attempts-from-1password",level:4},{value:"View activity per user in Okta today",id:"view-activity-per-user-in-okta-today",level:4},{value:"Up next",id:"up-next",level:3},{value:"Get started now",id:"get-started-now",level:3}],c={toc:d};function m(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("head",null,(0,r.kt)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.kt)("meta",{name:"twitter:creator",content:"@AhmedSamrose"})),(0,r.kt)("p",null,"We're adding support for pulling logs and enrichment data from identity and auth sources to your Matano data lake. This means you can query failed/successful sign-in attempts, view audit logs, and query user information from popular SaaS sources directly using SQL and write detection rules to detect threats in realtime using Python!"),(0,r.kt)("br",null),(0,r.kt)("div",{align:"center"},(0,r.kt)("img",{className:"mtn-blog-sq-img",src:o.Z})),(0,r.kt)("br",null),(0,r.kt)("p",null,"Identity logs, generated from solutions such as Okta, Azure AD, and Duo, play a crucial role in understanding user activity and behavior within your organization. Matano now has fully supports centralizing all your identity data into a structured data lake in your AWS account."),(0,r.kt)("h3",{id:"new-log-sources"},"New Log Sources"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Log Source"),(0,r.kt)("th",{parentName:"tr",align:null},"Tables"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/log-sources/managed/1password"},"1Password")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"item_usages"),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"sigin_attempts"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/log-sources/managed/duo"},"Duo")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"admin"),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"auth"),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"offline_enrollment"),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"summary"),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"telephony"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/log-sources/managed/google-workspace"},"Google Workspace")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"login"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/log-sources/managed/microsoft-graph"},"Microsoft Azure AD")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"aad_signinlogs"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/log-sources/managed/okta"},"Okta")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"system"))))),(0,r.kt)("h3",{id:"sample-queries"},"Sample queries"),(0,r.kt)("h4",{id:"recent-failed-sign-in-attempts-from-1password"},"Recent failed sign-in attempts from 1Password"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT *\nFROM   \"matano\".\"onepassword_signin_attempts\"\nWHERE  ts > current_timestamp - interval '7' day\n       AND event.outcome = 'failure' \n")),(0,r.kt)("h4",{id:"view-activity-per-user-in-okta-today"},"View activity per user in Okta today"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'SELECT user.full_name AS user_name,\n       count(*)       AS count_logs\nFROM   "matano"."okta_system"\nWHERE  ts > current_timestamp - interval \'1\' day\nGROUP  BY user.full_name \n')),(0,r.kt)("h3",{id:"up-next"},"Up next"),(0,r.kt)("p",null,"In the near future, we'll be expanding our Identity & Auth integrations further by ",(0,r.kt)("strong",{parentName:"p"},"adding support for synchronizing enrichment data (users, roles, lookup tables, etc.)")," to your data lake as well. We also are working on new managed integration sources, so feel free to reach out if there is a log source you'd like to see in this list!"),(0,r.kt)("h3",{id:"get-started-now"},"Get started now"),(0,r.kt)("p",null,"You can ingest and analyze any of these log sources in your AWS account out of the box today. View the ",(0,r.kt)("a",{parentName:"p",href:"https://www.matano.dev/docs/log-sources/managed/"},"complete documentation")," for more information."))}m.isMDXComponent=!0},9152:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/sg-ec3acc1b7b80697eac2b0e32828c9fe0.png"},870:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/sg-ec3acc1b7b80697eac2b0e32828c9fe0.png"}}]);