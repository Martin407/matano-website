---
title: Google Workspace
slug: /log-sources/managed/google-workspace
sidebar_position: 5
---

The Google Workspace managed log source allows you to collect logs from various Google Workspace audit, activity, and report endpoints into Matano.

## Prerequisites

To get started with the Google Workspace managed log source, follow these steps:

- Have an existing administrator account.
- [Create a service account](https://support.google.com/workspacemigrate/answer/9222993?hl=en) using the administrator account.
- [Authorize access to the Admin SDK API](https://support.google.com/workspacemigrate/answer/10839762#zippy=%2Cstep-authorize-your-client-id) for the ServiceAccount.
- [Enable domain-wide Delegation](https://developers.google.com/workspace/guides/create-credentials#optional_set_up_domain-wide_delegation_for_a_service_account) for your service account.
- Note your administrator email, service account email, and the private key for your credentials.

## Usage

Use the Google Workspace managed log source by specifying the `managed.type` property in your `log_source` as `GOOGLE_WORKSPACE`.

```yml
name: google_workspace

managed:
  type: GOOGLE_WORKSPACE
  properties:
    admin_email: admin@example.com
    client_email: service-acct@my-org.iam.gserviceaccount.com
```

For the tables you would like to enable for this managed log source, under a `tables/` subdirectory in your log source directory, create a file with the name `<table_name>.yml>`. For example:

```
my-matano-dir/
└── log_sources/
    └── google_workspace/
        └── log_source.yml
        └── tables/
            └── login.yml
```

For a complete reference on configuring log sources, including extending the table schema, see [_Log source configuration_](../../configuration.md).

### Secret

To finish onboarding the log source, populate the `private_key` key in the secret generated by Matano in AWS Secrets Manager, with the value from the `private_key` field in the credential key JSON generated for your service account.

## Tables

The Google Workspace managed log source supports the following tables:

<div >

|   Table    | Identifier |                    Description                    |
| :--------: | :--------: | :-----------------------------------------------: |
| [Login][1] |  `login`   | Track sign-in activity from users to your domain. |

</div>

[1]: https://developers.google.com/admin-sdk/reports/v1/appendix/activity/login

## Ingest

### Pull (default)

Matano integrates with your Google Workspace account to automatically pull relevant logs on a regular basis (every 1 min).

## Schema

Google Workspace event data is normalized to ECS fields. Custom fields are normalized into the `google_workspace` field. You can view the [complete mapping][1] to see the full schema.

[1]: https://github.com/matanolabs/matano/blob/main/data/managed/log_sources/google_workspace/tables/
